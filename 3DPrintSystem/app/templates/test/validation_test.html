{% extends "base/base.html" %}
{% from "shared/components/_form.html" import form, submit_button, reset_button %}
{% from "shared/components/_form_fields.html" import input_field, select_field, textarea_field, checkbox_field %}

{% block content %}
<div class="max-w-2xl mx-auto py-8">
    <h1 class="text-2xl font-bold mb-6">Form Validation Test</h1>
    
    {% call form(action=url_for('test.validate_form'), method="POST", validation_schema={
        'name': ['required', 'minLength:2', 'maxLength:50'],
        'email': ['required', 'email'],
        'age': ['required', 'number', 'min:18', 'max:120'],
        'message': ['required', 'minLength:10', 'maxLength:500'],
        'terms': ['required']
    }) %}
        <div class="space-y-6">
            {{ input_field(
                name='name',
                label='Name',
                placeholder='Enter your name',
                required=true,
                validation_rules=['required', 'minLength:2', 'maxLength:50']
            ) }}
            
            {{ input_field(
                name='email',
                label='Email',
                type='email',
                placeholder='Enter your email',
                required=true,
                validation_rules=['required', 'email']
            ) }}
            
            {{ input_field(
                name='age',
                label='Age',
                type='number',
                placeholder='Enter your age',
                required=true,
                min=18,
                max=120,
                validation_rules=['required', 'number', 'min:18', 'max:120']
            ) }}
            
            {{ select_field(
                name='country',
                label='Country',
                options=[
                    'Select a country',
                    {'value': 'us', 'label': 'United States'},
                    {'value': 'ca', 'label': 'Canada'},
                    {'value': 'uk', 'label': 'United Kingdom'},
                    {'value': 'au', 'label': 'Australia'}
                ],
                required=true,
                validation_rules=['required']
            ) }}
            
            {{ textarea_field(
                name='message',
                label='Message',
                placeholder='Enter your message',
                required=true,
                rows=4,
                validation_rules=['required', 'minLength:10', 'maxLength:500']
            ) }}
            
            {{ checkbox_field(
                name='terms',
                label='I agree to the terms and conditions',
                value='accepted',
                required=true,
                validation_rules=['required']
            ) }}
            
            <div class="flex space-x-4">
                {{ submit_button(text='Submit') }}
                {{ reset_button(text='Reset') }}
            </div>
        </div>
    {% endcall %}
</div>
{% endblock %} 