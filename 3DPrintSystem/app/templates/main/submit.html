{% extends 'base.html' %}
{% block title %}3D Print Submission{% endblock %}
{% block content %}
<div class="max-w-2xl mx-auto bg-white p-8 rounded shadow">
    <h1 class="text-2xl font-bold mb-4">Submit 3D Print Job</h1>
    <div class="mb-6 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-900 rounded">
        <span class="font-bold">Important:</span> Before submitting your model for 3D printing, please ensure you have thoroughly reviewed our Additive Manufacturing Moodle page, read all the guides, and checked the checklist. If necessary, revisit and fix your model before submission. Your model must be scaled and simplified appropriately, often requiring a second version specifically optimized for 3D printing. We will not print models that are broken, messy, or too large. Your model must follow the rules and constraints of the machine. We will not fix or scale your model as we do not know your specific needs or project requirements. We print exactly what you send us; if the scale is wrong or you are unsatisfied with the product, it is your responsibility. We will gladly print another model for you at an additional cost. We are only responsible for print failures due to issues under our control.
    </div>
    <form method="post" enctype="multipart/form-data" class="space-y-6" x-data="{
        printMethod: '',
        filamentColors: [
            'True Red','True Orange','Light Orange','True Yellow','Dark Yellow','Lime Green','Green','Forest Green','Blue','Electric Blue','Midnight Purple','Light Purple','Clear','True White','Gray','True Black','Brown','Copper','Bronze','True Silver','True Gold','Glow in the Dark','Color Changing'
        ],
        resinColors: ['Black','White','Gray','Clear'],
        get colorOptions() {
            if (this.printMethod === 'Filament') return this.filamentColors;
            if (this.printMethod === 'Resin') return this.resinColors;
            return [];
        }
    }">
        <div class="space-y-4">
            <div>
                <label class="block font-semibold">Full Name</label>
                <input type="text" name="student_name" required minlength="2" maxlength="100" class="w-full border rounded px-3 py-2">
            </div>
            <div>
                <label class="block font-semibold">Email Address</label>
                <input type="email" name="student_email" required maxlength="100" class="w-full border rounded px-3 py-2">
            </div>
            <div>
                <label class="block font-semibold">Discipline/Major</label>
                <select name="discipline" required class="w-full border rounded px-3 py-2">
                    <option value="">-- Select Discipline --</option>
                    <option>Art</option>
                    <option>Architecture</option>
                    <option>Landscape Architecture</option>
                    <option>Interior Design</option>
                    <option>Engineering</option>
                    <option>Hobby/Personal</option>
                    <option>Other</option>
                </select>
            </div>
            <div>
                <label class="block font-semibold">Class Number (e.g., ARCH 4000 or N/A)</label>
                <input type="text" name="class_number" required maxlength="50" class="w-full border rounded px-3 py-2" placeholder="ARCH 4000 or N/A">
            </div>
        </div>
        <div class="space-y-4">
            <div>
                <label class="block font-semibold">Print Method</label>
                <select name="print_method" required class="w-full border rounded px-3 py-2" x-model="printMethod">
                    <option value="">-- Select Print Method --</option>
                    <option value="Filament">Filament</option>
                    <option value="Resin">Resin</option>
                </select>
                <template x-if="printMethod === 'Filament'">
                    <div class="text-xs text-gray-600 mt-1">Good resolution, suitable for simpler models. Fast. Best For: Medium items. Cost: Least expensive.</div>
                </template>
                <template x-if="printMethod === 'Resin'">
                    <div class="text-xs text-gray-600 mt-1">Super high resolution and detail. Slow. Best For: Small items. Cost: More expensive.</div>
                </template>
            </div>
            <div>
                <label class="block font-semibold">Color Preference</label>
                <select name="color" required class="w-full border rounded px-3 py-2" :disabled="!printMethod">
                    <option value="">-- Select Color --</option>
                    <template x-for="color in colorOptions" :key="color">
                        <option x-text="color"></option>
                    </template>
                </select>
                <template x-if="!printMethod">
                    <div class="text-xs text-gray-500 mt-1">Please select a print method first</div>
                </template>
            </div>
        </div>
        <div class="bg-gray-50 p-4 rounded border mb-2">
            <div class="font-semibold mb-1">Will your model fit on our printers? Please check the dimensions (W x D x H):</div>
            <ul class="list-disc ml-6 text-sm mb-1">
                <li><span class="font-bold">Filament:</span></li>
                <li>Prusa MK4S: 9.84" × 8.3" × 8.6" (250 × 210 × 220 mm)</li>
                <li>Prusa XL: 14.17" × 14.17" × 14.17" (360 × 360 × 360 mm)</li>
                <li>Raise3D Pro 2 Plus: 12" × 12" × 23.8" (305 × 305 × 605 mm)</li>
                <li><span class="font-bold">Resin:</span></li>
                <li>Formlabs Form 3: 5.7 × 5.7 × 7.3 inches (145 x 145 x 175 mm)</li>
            </ul>
            <span class="text-xs">Ensure your model's dimensions are within the specified limits for the printer you plan to use. If your model is too large, consider scaling it down or splitting it into parts. For more guidance, refer to the design guides on our Moodle page or ask for assistance in person. If exporting as .STL or .OBJ you MUST scale it down in millimeters BEFORE exporting. If you do not the scale will not work correctly.</span>
        </div>
        <div class="space-y-4">
            <div>
                <label class="block font-semibold">Which printer do you think your model fits on?</label>
                <select name="printer" required class="w-full border rounded px-3 py-2">
                    <option value="">-- Select Printer --</option>
                    <option>Prusa MK4S</option>
                    <option>Prusa XL</option>
                    <option>Raise3D Pro 2 Plus</option>
                    <option>Formlabs Form 3</option>
                </select>
            </div>
            <div>
                <label class="block font-semibold">I understand there is a minimum $3.00 charge for all print jobs, and that the final cost may be higher based on material and time.</label>
                <select name="acknowledged_minimum_charge" required class="w-full border rounded px-3 py-2">
                    <option value="">-- Select --</option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
            </div>
            <div>
                <label class="block font-semibold">Upload 3D Model File (.stl, .obj, .3mf)</label>
                <input type="file" name="file" required accept=".stl,.obj,.3mf" class="w-full border rounded px-3 py-2">
                <span class="text-xs">Accepted formats: .stl, .obj, .3mf (max 50MB)</span>
            </div>
        </div>
        <button type="submit" class="w-full bg-blue-700 text-white px-4 py-2 rounded font-semibold hover:bg-blue-800 transition">Submit Print Job</button>
    </form>
</div>
{% endblock %} 